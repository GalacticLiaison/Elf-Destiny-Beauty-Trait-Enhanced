determine_highest_beauty_trait_tier = {
	if = {
		limit = {
			has_trait = beauty_good_4
		}
		debug_log = "determine_highest_beauty_trait_tier tier 4"

		save_temporary_scope_value_as = {
			name = beauty_tier
			value = flag:tier_4
		}
	}
	else_if = {
		limit = {
			OR = {
				has_trait = beauty_good_3
				has_trait = unconventional_beauty_good_3
				has_trait = exotic_beauty_good_3
			}
		}
		debug_log = "determine_highest_beauty_trait_tier tier 3"

		save_temporary_scope_value_as = {
			name = beauty_tier
			value = flag:tier_3
		}
	}
	else_if = {
		limit = {
			OR = {
				has_trait = beauty_good_2
				has_trait = unconventional_beauty_good_2
				has_trait = exotic_beauty_good_2
			}
		}
		debug_log = "determine_highest_beauty_trait_tier tier 2"

		save_temporary_scope_value_as = {
			name = beauty_tier
			value = flag:tier_2
		}
	}
	else_if = {
		limit = {
			OR = {
				has_trait = beauty_good_1
				has_trait = unconventional_beauty_good_1
				has_trait = exotic_beauty_good_1
			}
		}
		debug_log = "determine_highest_beauty_trait_tier tier 1"

		save_temporary_scope_value_as = {
			name = beauty_tier
			value = flag:tier_1
		}
	}
	else = {
		debug_log = "determine_highest_beauty_trait_tier none..."

		save_temporary_scope_value_as = {
			name = beauty_tier
			value = flag:none
		}
	}
}

remove_all_beauty_traits = {
	remove_trait = beauty_good_1
	remove_trait = beauty_good_2
	remove_trait = beauty_good_3
	remove_trait = beauty_good_4
	remove_trait = unconventional_beauty_good_1
	remove_trait = unconventional_beauty_good_2
	remove_trait = unconventional_beauty_good_3
	remove_trait = exotic_beauty_good_1
	remove_trait = exotic_beauty_good_2
	remove_trait = exotic_beauty_good_3
}

upgrade_conventional_to_unconventional_beauty_effect = {
	if = {
		limit = {
			has_trait = beauty_good_1
		}
		remove_trait = beauty_good_1
		add_trait = unconventional_beauty_good_1
	}
	else_if = {
		limit = {
			has_trait = beauty_good_2
		}
		remove_trait = beauty_good_2
		add_trait = unconventional_beauty_good_2
	}
	else_if = {
		limit = {
			has_trait = beauty_good_3
		}
		remove_trait = beauty_good_3
		add_trait = unconventional_beauty_good_3
	}
}

upgrade_conventional_to_exotic_beauty_effect = {
	if = {
		limit = {
			has_trait = beauty_good_1
		}
		remove_trait = beauty_good_1
		add_trait = exotic_beauty_good_1
	}
	else_if = {
		limit = {
			has_trait = beauty_good_2
		}
		remove_trait = beauty_good_2
		add_trait = exotic_beauty_good_2
	}
	else_if = {
		limit = {
			has_trait = beauty_good_3
		}
		remove_trait = beauty_good_3
		add_trait = exotic_beauty_good_3
	}
}

upgrade_unconventional_to_exotic_beauty_effect = {
	if = {
		limit = {
			has_trait = unconventional_beauty_good_1
		}
		remove_trait = unconventional_beauty_good_1
		add_trait = exotic_beauty_good_1
	}
	else_if = {
		limit = {
			has_trait = unconventional_beauty_good_2
		}
		remove_trait = unconventional_beauty_good_2
		add_trait = exotic_beauty_good_2
	}
	else_if = {
		limit = {
			has_trait = unconventional_beauty_good_3
		}
		remove_trait = unconventional_beauty_good_3
		add_trait = exotic_beauty_good_3
	}
}

downgrade_unconventional_to_conventional_beauty_effect = {
	if = {
		limit = {
			has_trait = unconventional_beauty_good_1
		}
		remove_trait = unconventional_beauty_good_1
		add_trait = beauty_good_1
	}
	else_if = {
		limit = {
			has_trait = unconventional_beauty_good_2
		}
		remove_trait = unconventional_beauty_good_2
		add_trait = beauty_good_2
	}
	else_if = {
		limit = {
			has_trait = unconventional_beauty_good_3
		}
		remove_trait = unconventional_beauty_good_3
		add_trait = beauty_good_3
	}
}

downgrade_exotic_to_unconventional_beauty_effect = {
	if = {
		limit = {
			has_trait = exotic_beauty_good_1
		}
		remove_trait = exotic_beauty_good_1
		add_trait = unconventional_beauty_good_1
	}
	else_if = {
		limit = {
			has_trait = exotic_beauty_good_2
		}
		remove_trait = exotic_beauty_good_2
		add_trait = unconventional_beauty_good_2
	}
	else_if = {
		limit = {
			has_trait = exotic_beauty_good_3
		}
		remove_trait = exotic_beauty_good_3
		add_trait = unconventional_beauty_good_3
	}
}

downgrade_exotic_to_conventional_beauty_effect = {
	if = {
		limit = {
			has_trait = exotic_beauty_good_1
		}
		remove_trait = exotic_beauty_good_1
		add_trait = beauty_good_1
	}
	else_if = {
		limit = {
			has_trait = exotic_beauty_good_2
		}
		remove_trait = exotic_beauty_good_2
		add_trait = beauty_good_2
	}
	else_if = {
		limit = {
			has_trait = exotic_beauty_good_3
		}
		remove_trait = exotic_beauty_good_3
		add_trait = beauty_good_3
	}
}


x_set_beauty_to_conventional_effect = {
	remove_all_beauty_traits = yes
	debug_log = "set_beauty_to_conventional_effect"

	if = {
		limit = {
			scope:beauty_tier = flag:tier_4
		}
		add_trait = beauty_good_4
	}
	else_if = {
		limit = {
			scope:beauty_tier = flag:tier_3
		}
		add_trait = beauty_good_3
	}
	else_if = {
		limit = {
			scope:beauty_tier = flag:tier_2
		}
		add_trait = beauty_good_3
	}
	else_if = {
		limit = {
			scope:beauty_tier = flag:tier_1
		}
		add_trait = beauty_good_3
	}
	else = {
		debug_log = "ERROR: set_beauty_to_conventional_effect no value"
	}
}

x_set_beauty_to_unconventional_effect = {
	remove_all_beauty_traits = yes
	debug_log = "set_beauty_to_unconventional_effect"

	if = {
		limit = {
			scope:beauty_tier = flag:tier_4
		}
		add_trait = beauty_good_4
	}
	else_if = {
		limit = {
			scope:beauty_tier = flag:tier_3
		}
		add_trait = unconventional_beauty_good_3
	}
	else_if = {
		limit = {
			scope:beauty_tier = flag:tier_2
		}
		add_trait = unconventional_beauty_good_2
	}
	else_if = {
		limit = {
			scope:beauty_tier = flag:tier_1
		}
		add_trait = unconventional_beauty_good_1
	}
	else = {
		debug_log = "ERROR: set_beauty_to_unconventional_effect no value"
	}
}

x_set_beauty_to_exotic_effect = {
	remove_all_beauty_traits = yes
	debug_log = "set_beauty_to_exotic_effect"

	if = {
		limit = {
			scope:beauty_tier = flag:tier_4
		}
		add_trait = beauty_good_4
	}
	else_if = {
		limit = {
			scope:beauty_tier = flag:tier_3
		}
		add_trait = exotic_beauty_good_3
	}
	else_if = {
		limit = {
			scope:beauty_tier = flag:tier_2
		}
		add_trait = exotic_beauty_good_2
	}
	else_if = {
		limit = {
			scope:beauty_tier = flag:tier_1
		}
		add_trait = exotic_beauty_good_1
	}
	else = {
		debug_log = "ERROR: set_beauty_to_exotic_effect no value"
	}
}

set_beauty_to_conventional_effect = {
	if = {
		limit = {
			has_normal_beauty_trait = yes
		}
		# Nothing Happens, keep normal beauty trait
	}
	else_if = {
		limit = { 
			has_unconventional_beauty_trait = yes
		}
		downgrade_unconventional_to_conventional_beauty_effect = yes
	}
	else_if = {
		limit = { 
			has_exotic_beauty_trait = yes
		}
		downgrade_exotic_to_conventional_beauty_effect = yes
	}
}

set_beauty_to_unconventional_effect = {
	if = {
		limit = {
			has_normal_beauty_trait = yes
		}
		upgrade_conventional_to_unconventional_beauty_effect = yes
	}
	else_if = {
		limit = { 
			has_unconventional_beauty_trait = yes
		}
		# Nothing Happens, keep unconventional beauty trait
	}
	else_if = {
		limit = { 
			has_exotic_beauty_trait = yes
		}
		downgrade_exotic_to_unconventional_beauty_effect = yes
	}
}

set_beauty_to_exotic_effect = {
	if = {
		limit = {
			has_normal_beauty_trait = yes
		}
		upgrade_conventional_to_exotic_beauty_effect = yes
	}
	else_if = {
		limit = { 
			has_unconventional_beauty_trait = yes
		}
		upgrade_unconventional_to_exotic_beauty_effect = yes
	}
	else_if = {
		limit = { 
			has_exotic_beauty_trait = yes
		}
		# Nothing Happens, keep exotic beauty trait
	}
}